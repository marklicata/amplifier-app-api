{"openapi":"3.1.0","info":{"title":"Amplifier App API","description":"\nREST API service for Amplifier AI development platform.\n\n## Architecture\n\nThe API is built around two core primitives:\n\n### Configs\nComplete bundle configurations defining everything needed to run an Amplifier session:\n- Bundle metadata (name, version, description)\n- Included bundles\n- Session configuration (orchestrator, context manager)\n- Providers, tools, and hooks\n- Agents and context mappings\n- System instructions and base paths\n\nConfigs are **reusable** - create once, use for multiple sessions.\n\n### Sessions\nLightweight runtime instances that reference a Config:\n- Created from a config_id\n- Maintains conversation transcript\n- Tracks status and metadata\n\n## Typical Workflow\n\n1. **Build** a config using your app (validate with `POST /api/configs/validate`)\n2. **Save** the config → Get config_id\n3. **Create** session(s) from config_id → Get session_id\n4. **Send** messages to session_id → Get AI responses\n\n## Key Features\n\n- ✅ **Config Validation**: Validate configs before saving\n- ✅ **Config Reusability**: One config → unlimited sessions\n- ✅ **Bundle Caching**: Prepared bundles cached for fast session creation\n- ✅ **Type Safety**: Full Pydantic validation\n- ✅ **Cache Invalidation**: Automatic when configs are updated\n\n## API Endpoints\n\n### Application Management\n- `POST /api/applications` - Register application\n- `GET /api/applications` - List applications\n- `DELETE /api/applications/{id}` - Delete application\n\n### Config Management\n- `GET /api/configs` - List configs\n- `POST /api/configs` - Create config\n- `GET /api/configs/{id}` - Get config\n- `PUT /api/configs/{id}` - Update config\n- `DELETE /api/configs/{id}` - Delete config\n- `POST /api/configs/validate` - Validate config (no save)\n\n### Session Management\n- `GET /api/sessions` - List sessions\n- `POST /api/sessions` - Create session\n- `GET /api/sessions/{id}` - Get session\n- `POST /api/sessions/{id}/send` - Send message\n- `DELETE /api/sessions/{id}` - Delete session\n\n### Health & Diagnostics\n- `GET /api/health` - Health check\n- `GET /api/smoke` - Smoke test suite\n","version":"0.3.0"},"paths":{"/health":{"get":{"tags":["health"],"summary":"Health Check","description":"Health check endpoint.","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}}}},"/version":{"get":{"tags":["health"],"summary":"Get Version","description":"Get version information.","operationId":"get_version_version_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VersionResponse"}}}}}}},"/":{"get":{"tags":["health"],"summary":"Root","description":"Root endpoint with service information.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Root  Get"}}}}}}},"/applications":{"get":{"tags":["applications"],"summary":"List all applications","description":"Get a list of all registered applications (without API keys).","operationId":"list_applications_applications_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApplicationInfo"},"type":"array","title":"Response List Applications Applications Get"}}}}}},"post":{"tags":["applications"],"summary":"Register a new application","description":"Register a new application to access the API.\n\nReturns an API key that must be saved - it won't be shown again!\nThe API key should be sent in the X-API-Key header on all requests.\n\nExample:\n```bash\ncurl -X POST /applications \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"app_id\": \"mobile-app\",\n    \"app_name\": \"Mobile App\"\n  }'\n```\n\nResponse includes the API key - store it securely!","operationId":"create_application_applications_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplicationCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplicationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/applications/{app_id}":{"get":{"tags":["applications"],"summary":"Get application details","description":"Get details for a specific application (without API key).","operationId":"get_application_applications__app_id__get","parameters":[{"name":"app_id","in":"path","required":true,"schema":{"type":"string","title":"App Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplicationInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["applications"],"summary":"Delete application","description":"Delete an application registration. This cannot be undone!","operationId":"delete_application_applications__app_id__delete","parameters":[{"name":"app_id","in":"path","required":true,"schema":{"type":"string","title":"App Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Delete Application Applications  App Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/applications/{app_id}/regenerate-key":{"post":{"tags":["applications"],"summary":"Regenerate API key","description":"Generate a new API key for an application.\n\nThe old API key will stop working immediately!\nSave the new key - it won't be shown again.","operationId":"regenerate_api_key_applications__app_id__regenerate_key_post","parameters":[{"name":"app_id","in":"path","required":true,"schema":{"type":"string","title":"App Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplicationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sessions":{"post":{"tags":["sessions"],"summary":"Create a new session from a config","description":"Create a new Amplifier session from an existing config.\n\nA session is a lightweight runtime instance that:\n- References a config (complete YAML bundle) via config_id\n- Maintains conversation transcript\n- Tracks execution status\n- Stores runtime state\n\nMultiple sessions can be created from the same config, enabling:\n- Parallel conversations with same configuration\n- A/B testing different approaches\n- Isolated execution contexts\n\nThe first session from a config prepares the bundle (slower).\nSubsequent sessions reuse the cached prepared bundle (faster).\n\nRequirements:\n- The config_id must exist (create via POST /configs first)\n- The config must have valid YAML with required sections\n\nReturns a unique session_id that can be used to:\n- Send messages (POST /sessions/{id}/messages)\n- Stream responses (POST /sessions/{id}/stream)\n- Resume later (POST /sessions/{id}/resume)\n- Delete when done (DELETE /sessions/{id})","operationId":"create_session_sessions_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionCreateRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["sessions"],"summary":"List Sessions","description":"List all sessions.\n\nArgs:\n    limit: Maximum number of sessions to return\n    offset: Offset for pagination\n\nReturns:\n    SessionListResponse: List of session information","operationId":"list_sessions_sessions_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sessions/{session_id}":{"get":{"tags":["sessions"],"summary":"Get Session","description":"Get session details.\n\nArgs:\n    session_id: Session identifier\n\nReturns:\n    SessionResponse: Session details\n\nRaises:\n    HTTPException: 404 if not found","operationId":"get_session_sessions__session_id__get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["sessions"],"summary":"Delete Session","description":"Delete a session.","operationId":"delete_session_sessions__session_id__delete","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Delete Session Sessions  Session Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sessions/{session_id}/resume":{"post":{"tags":["sessions"],"summary":"Resume Session","description":"Resume an existing session.\n\nArgs:\n    session_id: Session identifier\n\nReturns:\n    SessionResponse: The resumed session\n\nRaises:\n    HTTPException: 404 if not found, 500 on resume errors","operationId":"resume_session_sessions__session_id__resume_post","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sessions/{session_id}/messages":{"post":{"tags":["sessions"],"summary":"Send Message","description":"Send a message to a session.","operationId":"send_message_sessions__session_id__messages_post","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sessions/{session_id}/stream":{"post":{"tags":["sessions"],"summary":"Stream Message","description":"Send a message and stream the response using Server-Sent Events (SSE).","operationId":"stream_message_sessions__session_id__stream_post","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sessions/{session_id}/cancel":{"post":{"tags":["sessions"],"summary":"Cancel Session","description":"Cancel current operation in a session.","operationId":"cancel_session_sessions__session_id__cancel_post","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Cancel Session Sessions  Session Id  Cancel Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/configs":{"post":{"tags":["configs"],"summary":"Create a new config","description":"Create a new config (complete bundle configuration).\n\nA config contains everything needed to start an Amplifier session.\nConfigs are reusable - create once, use for multiple sessions.\n\n**Module Sources:** All modules (orchestrator, context, providers, tools) require a `source` field\npointing to their git repository or installation source.\n\nExample:\n```json\n{\n  \"name\": \"my-config\",\n  \"config_data\": {\n    \"bundle\": {\"name\": \"my-config\", \"version\": \"1.0.0\"},\n    \"includes\": [{\"bundle\": \"foundation\"}]\n  },\n  \"session\": {\n    \"orchestrator\": {\n      \"module\": \"loop-streaming\",\n      \"source\": \"git+https://github.com/microsoft/amplifier-module-loop-streaming@main\",\n      \"config\": {}\n    },\n    \"context\": {\n      \"module\": \"context-simple\",\n      \"source\": \"git+https://github.com/microsoft/amplifier-module-context-simple@main\",\n      \"config\": {}\n    }\n  },\n  \"providers\": [{\n    \"module\": \"provider-anthropic\",\n    \"source\": \"git+https://github.com/microsoft/amplifier-module-provider-anthropic@main\",\n    \"config\": {\"api_key\": \"${ANTHROPIC_API_KEY}\", \"model\": \"claude-sonnet-4-5\"}\n  }]\n}\n```","operationId":"create_config_configs_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigCreateRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["configs"],"summary":"List Configs","description":"List all configs.\n\nArgs:\n    limit: Maximum number of configs to return\n    offset: Offset for pagination\n\nReturns:\n    ConfigListResponse: List of config metadata","operationId":"list_configs_configs_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/configs/{config_id}":{"get":{"tags":["configs"],"summary":"Get Config","description":"Get config by ID.\n\nArgs:\n    config_id: Config identifier\n\nReturns:\n    ConfigResponse: The config details\n\nRaises:\n    HTTPException: 404 if not found, 500 on other errors","operationId":"get_config_configs__config_id__get","parameters":[{"name":"config_id","in":"path","required":true,"schema":{"type":"string","title":"Config Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["configs"],"summary":"Update Config","description":"Update an existing config.\n\nArgs:\n    config_id: Config identifier\n    request: Config update request\n\nReturns:\n    ConfigResponse: The updated config\n\nRaises:\n    HTTPException: 404 if not found, 400 if invalid config data, 500 on other errors","operationId":"update_config_configs__config_id__put","parameters":[{"name":"config_id","in":"path","required":true,"schema":{"type":"string","title":"Config Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["configs"],"summary":"Delete Config","description":"Delete a config.\n\nArgs:\n    config_id: Config identifier\n\nReturns:\n    Success message\n\nRaises:\n    HTTPException: 404 if not found, 500 on other errors","operationId":"delete_config_configs__config_id__delete","parameters":[{"name":"config_id","in":"path","required":true,"schema":{"type":"string","title":"Config Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Delete Config Configs  Config Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/smoke-tests":{"get":{"tags":["testing"],"summary":"Run Smoke Tests","description":"Run smoke tests and return results.\n\nThis endpoint executes pytest on the smoke test suite and returns results\nin JSON format. Useful for automated health checks and CI/CD pipelines.\n\nArgs:\n    verbose: If true, include detailed test output\n    pattern: Test file pattern (default: test_smoke.py)\n\nReturns:\n    JSON with test results including pass/fail counts and details","operationId":"run_smoke_tests_smoke_tests_get","parameters":[{"name":"verbose","in":"query","required":false,"schema":{"type":"boolean","description":"Show verbose test output","default":false,"title":"Verbose"},"description":"Show verbose test output"},{"name":"pattern","in":"query","required":false,"schema":{"type":"string","description":"Test file pattern to run","default":"test_smoke.py","title":"Pattern"},"description":"Test file pattern to run"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Run Smoke Tests Smoke Tests Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/smoke-tests/quick":{"get":{"tags":["testing"],"summary":"Run Quick Smoke Tests","description":"Run quick smoke tests (basic health checks only).\n\nThis is a lightweight endpoint that runs only the most critical tests\nto verify the service is operational. Completes in <5 seconds.","operationId":"run_quick_smoke_tests_smoke_tests_quick_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Run Quick Smoke Tests Smoke Tests Quick Get"}}}}}}}},"components":{"schemas":{"ApplicationCreate":{"properties":{"app_id":{"type":"string","pattern":"^[a-z0-9-]+$","title":"App Id","description":"Unique application identifier","examples":["mobile-app","web-app","desktop-app"]},"app_name":{"type":"string","title":"App Name","description":"Human-readable name","examples":["Mobile App","Web App"]},"settings":{"additionalProperties":true,"type":"object","title":"Settings","description":"Optional application settings"}},"type":"object","required":["app_id","app_name"],"title":"ApplicationCreate","description":"Request to create a new application."},"ApplicationInfo":{"properties":{"app_id":{"type":"string","title":"App Id"},"app_name":{"type":"string","title":"App Name"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["app_id","app_name","is_active","created_at","updated_at"],"title":"ApplicationInfo","description":"Application information (without sensitive data)."},"ApplicationResponse":{"properties":{"app_id":{"type":"string","title":"App Id"},"app_name":{"type":"string","title":"App Name"},"api_key":{"type":"string","title":"Api Key","description":"API key - save this! Won't be shown again"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"message":{"type":"string","title":"Message","default":"Application registered successfully"}},"type":"object","required":["app_id","app_name","api_key","is_active","created_at"],"title":"ApplicationResponse","description":"Response when creating an application."},"ConfigCreateRequest":{"properties":{"name":{"type":"string","title":"Name","description":"Human-readable name for the config","examples":["development","production","my-custom-config"]},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Optional description of what this config is for","examples":["Development configuration with Anthropic provider"]},"config_data":{"additionalProperties":true,"type":"object","title":"Config Data","description":"Complete bundle configuration as JSON object with all sections (bundle, session, providers, tools, etc.)","examples":[{"bundle":{"name":"dev-config","version":"1.0.0"}}]},"session":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Session","description":"Session configuration (orchestrator & context manager). Can be provided here or inside config_data.","examples":[{"context":{"config":{"auto_compact":true,"compact_threshold":0.8,"max_tokens":3000000},"module":"context-simple","source":"git+https://github.com/microsoft/amplifier-module-context-simple@main"},"orchestrator":{"config":{"extended_thinking":true},"module":"loop-streaming","source":"git+https://github.com/microsoft/amplifier-module-loop-streaming@main"}}]},"providers":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Providers","description":"List of providers. Can be provided here or inside config_data.","examples":[{"config":{"api_key":"sk-ant-XXXX","model":"claude-sonnet-4-5"},"module":"provider-anthropic","source":"git+https://github.com/microsoft/amplifier-module-provider-anthropic@main"}]},"includes":{"anyOf":[{"items":{"additionalProperties":{"type":"string"},"type":"object"},"type":"array"},{"type":"null"}],"title":"Includes","description":"Optional list of includes to reference other bundles or configs.","examples":[{"bundle":"git+..."}]},"tools":{"anyOf":[{"items":{"additionalProperties":{"type":"string"},"type":"object"},"type":"array"},{"type":"null"}],"title":"Tools","description":"Optional list of tools to include in the config.","examples":[{"module":"tool-filesystem","source":"git+https://github.com/microsoft/amplifier-module-tool-filesystem@main"},{"module":"tool-bash","source":"git+https://github.com/microsoft/amplifier-module-tool-bash@main"},{"module":"tool-web","source":"git+https://github.com/microsoft/amplifier-module-tool-web@main"},{"module":"tool-search","source":"git+https://github.com/microsoft/amplifier-module-tool-search@main"}]},"tags":{"additionalProperties":{"type":"string"},"type":"object","title":"Tags","description":"Optional tags for categorizing/filtering configs","examples":[{"env":"dev","team":"platform"}]}},"type":"object","required":["name","config_data"],"title":"ConfigCreateRequest","description":"Request to create a new config.\n\nA config is a complete bundle containing all components needed\nto start an Amplifier session (tools, providers, orchestrator, etc.)."},"ConfigListResponse":{"properties":{"configs":{"items":{"$ref":"#/components/schemas/ConfigMetadata"},"type":"array","title":"Configs"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["configs","total"],"title":"ConfigListResponse","description":"Response with list of configs."},"ConfigMetadata":{"properties":{"config_id":{"type":"string","title":"Config Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"tags":{"additionalProperties":{"type":"string"},"type":"object","title":"Tags"}},"type":"object","required":["config_id","name","created_at","updated_at"],"title":"ConfigMetadata","description":"Config metadata without the full YAML content."},"ConfigResponse":{"properties":{"config_id":{"type":"string","title":"Config Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"config_data":{"additionalProperties":true,"type":"object","title":"Config Data"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"tags":{"additionalProperties":{"type":"string"},"type":"object","title":"Tags"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"}},"type":"object","required":["config_id","name","config_data","created_at","updated_at"],"title":"ConfigResponse","description":"Response with config data."},"ConfigUpdateRequest":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"config_data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Config Data"},"session":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Session","description":"Optional session configuration update (orchestrator & context manager)."},"providers":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Providers","description":"Optional providers list update."},"includes":{"anyOf":[{"items":{"additionalProperties":{"type":"string"},"type":"object"},"type":"array"},{"type":"null"}],"title":"Includes","description":"Optional includes list update."},"tools":{"anyOf":[{"items":{"additionalProperties":{"type":"string"},"type":"object"},"type":"array"},{"type":"null"}],"title":"Tools","description":"Optional tools list update."},"tags":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Tags"}},"type":"object","title":"ConfigUpdateRequest","description":"Request to update an existing config."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthResponse":{"properties":{"status":{"type":"string","title":"Status"},"version":{"type":"string","title":"Version"},"uptime":{"type":"string","title":"Uptime"},"database_connected":{"type":"boolean","title":"Database Connected"}},"type":"object","required":["status","version","uptime","database_connected"],"title":"HealthResponse","description":"Health check response."},"MessageRequest":{"properties":{"message":{"type":"string","minLength":1,"title":"Message","description":"User message content"},"context":{"additionalProperties":true,"type":"object","title":"Context","description":"Additional context"}},"type":"object","required":["message"],"title":"MessageRequest","description":"Request to send a message to a session."},"MessageResponse":{"properties":{"session_id":{"type":"string","title":"Session Id"},"response":{"type":"string","title":"Response"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata"}},"type":"object","required":["session_id","response"],"title":"MessageResponse","description":"Response for message operations."},"SessionCreateRequest":{"properties":{"config_id":{"type":"string","title":"Config Id","description":"Config ID to use for this session (must exist)","examples":["c7a3f9e2-1b4d-4c8a-9f2e-d6b8a1c5e3f7"]},"tags":{"additionalProperties":{"type":"string"},"type":"object","title":"Tags","description":"Optional metadata tags for this session","examples":[{"project":"my-app","user":"john"}]}},"type":"object","required":["config_id"],"title":"SessionCreateRequest","description":"Request to create a new session from a config.\n\nA session is a runtime instance that references a config (complete YAML bundle).\nMultiple sessions can be created from the same config."},"SessionInfo":{"properties":{"session_id":{"type":"string","title":"Session Id"},"config_id":{"type":"string","title":"Config Id"},"status":{"$ref":"#/components/schemas/SessionStatus"},"message_count":{"type":"integer","title":"Message Count","default":0},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["session_id","config_id","status","created_at","updated_at"],"title":"SessionInfo","description":"Session information summary."},"SessionListResponse":{"properties":{"sessions":{"items":{"$ref":"#/components/schemas/SessionInfo"},"type":"array","title":"Sessions"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["sessions","total"],"title":"SessionListResponse","description":"Response for listing sessions."},"SessionResponse":{"properties":{"session_id":{"type":"string","title":"Session Id"},"config_id":{"type":"string","title":"Config Id"},"status":{"$ref":"#/components/schemas/SessionStatus"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"}},"type":"object","required":["session_id","config_id","status"],"title":"SessionResponse","description":"Response for session operations."},"SessionStatus":{"type":"string","enum":["active","completed","failed","cancelled"],"title":"SessionStatus","description":"Session status enumeration."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"},"input":{"title":"Input"},"ctx":{"type":"object","title":"Context"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VersionResponse":{"properties":{"service_version":{"type":"string","title":"Service Version"},"amplifier_core_version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Amplifier Core Version"},"amplifier_foundation_version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Amplifier Foundation Version"}},"type":"object","required":["service_version"],"title":"VersionResponse","description":"Version information response."}}}}